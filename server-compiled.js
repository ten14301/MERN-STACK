(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}(()=>{const e=s(860),{MongoClient:t}=s(13),n=e();let o;n.set("view engine","ejs"),n.set("views","./views"),n.use(e.static("public")),n.use(e.json()),n.use(e.urlencoded({extended:!1})),n.get("/",(async(e,t)=>{const s=await o.collection("User").find().toArray();t.render("home",{allusers:s})})),n.use((function(e,t,s){t.set("WWW-Authenticate","Basic realm='Our MERN App'"),"Basic YWRtaW46YWRtaW4="==e.headers.authorization?s():(console.log(e.headers.authorization),t.status(401).send("Try again later"))})),n.get("/api/users",(async(e,t)=>{const s=await o.collection("User").find().toArray();t.json(s)})),n.post("/create-user",(async(e,t)=>{console.log(e.body),t.send("create")})),n.get("/admin",((e,t)=>{t.render("admin")})),async function(){const e=new t("mongodb://admin:admin@localhost:27017/Mern?&authSource=admin");await e.connect(),o=e.db(),n.listen(3e3)}()})()})();